<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Elastichsearch Rest Component</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling"><link rel="up" href="IDU-Components.html" title="Part&nbsp;V.&nbsp;Apache Camel Component Reference"><link rel="prev" href="elasticsearch5-component.html" title="Elasticsearch5 Component (deprecated)"><link rel="next" href="elsql-component.html" title="ElSQL Component"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="elasticsearch-rest-component"></a>Elastichsearch Rest Component</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="elasticsearch-rest-component.html#_uri_format_67">URI format</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_endpoint_options_3">Endpoint Options</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_message_operations_3">Message Operations</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_configure_the_component_and_enable_basic_authentication">Configure the component and enable basic authentication</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_index_example_3">Index Example</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_search_example">Search Example</a></span></dt></dl></div><p><span class="strong"><strong>Available as of Camel version 2.21</strong></span></p><p>The ElasticSearch component allows you to interface with an
<a class="link" href="https://www.elastic.co/products/elasticsearch" target="_top">ElasticSearch</a> 6.x API using the REST Client library.</p><p>Maven users will need to add the following dependency to their <code class="literal">pom.xml</code>
for this component:</p><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;dependency&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;groupId&gt;</strong>org.apache.camel<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/groupId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;artifactId&gt;</strong>camel-elasticsearch-rest<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/artifactId&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;version&gt;</strong>x.x.x<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/version&gt;</strong>
    <em xmlns="http://www.w3.org/1999/xhtml" class="hl-comment" style="color: silver">&lt;!-- use the same version as your Camel core version --&gt;</em>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/dependency&gt;</strong></pre><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_uri_format_67"></a>URI format</h2></div></div></div><pre class="screen">elasticsearch-rest://clusterName[?options]</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_endpoint_options_3"></a>Endpoint Options</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="elasticsearch-rest-component.html#_path_parameters_1_parameters_58">Path Parameters (1 parameters):</a></span></dt><dt><span class="section"><a href="elasticsearch-rest-component.html#_query_parameters_11_parameters_5">Query Parameters (11 parameters):</a></span></dt></dl></div><p>The Elastichsearch Rest component supports 12 options which are listed below.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>client</strong></span> (advanced)</p></td><td align="left" valign="top"><p>To use an existing configured Elasticsearch client, instead of creating a client per endpoint. This allow to customize the client with specific settings.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>RestClient</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>hostAddresses</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Comma separated list with ip:port formatted remote transport addresses to use. The ip and port options must be left blank for hostAddresses to be considered instead.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>socketTimeout</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The timeout in ms to wait before the socket will timeout.</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>connectionTimeout</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The time in ms to wait before connection will timeout.</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>user</strong></span> (advance)</p></td><td align="left" valign="top"><p>Basic authenticate user</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>password</strong></span> (producer)</p></td><td align="left" valign="top"><p>Password for authenticate</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>enableSSL</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Enable SSL</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>maxRetryTimeout</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The time in ms before retry</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>enableSniffer</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Enable automatically discover nodes from a running Elasticsearch cluster</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>Boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>snifferInterval</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The interval between consecutive ordinary sniff executions in milliseconds. Will be honoured when sniffOnFailure is disabled or when there are no failures between consecutive sniff executions</p></td><td align="center" valign="top"><p>300000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>sniffAfterFailureDelay</strong></span> (advanced)</p></td><td align="left" valign="top"><p>The delay of a sniff execution scheduled after a failure (in milliseconds)</p></td><td align="center" valign="top"><p>60000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>resolveProperty Placeholders</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Whether the component should resolve property placeholders on itself when starting. Only properties which are of String type can use property placeholders.</p></td><td align="center" valign="top"><p>true</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div><p>The Elastichsearch Rest endpoint is configured using URI syntax:</p><pre class="screen">elasticsearch-rest:clusterName</pre><p>with the following path and query parameters:</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_path_parameters_1_parameters_58"></a>Path Parameters (1 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>clusterName</strong></span></p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Name of the cluster</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_query_parameters_11_parameters_5"></a>Query Parameters (11 parameters):</h3></div></div></div><div class="informaltable"><table border="1" width="100%"><colgroup><col width="19%" class="col_1"><col width="51%" class="col_2"><col width="10%" class="col_3"><col width="20%" class="col_4"></colgroup><thead><tr><th align="left" valign="top">Name</th><th align="left" valign="top">Description</th><th align="center" valign="top">Default</th><th align="left" valign="top">Type</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="strong"><strong>connectionTimeout</strong></span> (producer)</p></td><td align="left" valign="top"><p>The time in ms to wait before connection will timeout.</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>disconnect</strong></span> (producer)</p></td><td align="left" valign="top"><p>Disconnect after it finish calling the producer</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>enableSSL</strong></span> (producer)</p></td><td align="left" valign="top"><p>Enable SSL</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>hostAddresses</strong></span> (producer)</p></td><td align="left" valign="top"><p><span class="strong"><strong>Required</strong></span> Comma separated list with ip:port formatted remote transport addresses to use. The ip and port options must be left blank for hostAddresses to be considered instead.</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>indexName</strong></span> (producer)</p></td><td align="left" valign="top"><p>The name of the index to act against</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>indexType</strong></span> (producer)</p></td><td align="left" valign="top"><p>The type of the index to act against</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>String</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>maxRetryTimeout</strong></span> (producer)</p></td><td align="left" valign="top"><p>The time in ms before retry</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>operation</strong></span> (producer)</p></td><td align="left" valign="top"><p>What operation to perform</p></td><td align="center" valign="top">&nbsp;</td><td align="left" valign="top"><p>ElasticsearchOperation</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>socketTimeout</strong></span> (producer)</p></td><td align="left" valign="top"><p>The timeout in ms to wait before the socket will timeout.</p></td><td align="center" valign="top"><p>30000</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>waitForActiveShards</strong></span> (producer)</p></td><td align="left" valign="top"><p>Index creation waits for the write consistency number of shards to be available</p></td><td align="center" valign="top"><p>1</p></td><td align="left" valign="top"><p>int</p></td></tr><tr><td align="left" valign="top"><p><span class="strong"><strong>synchronous</strong></span> (advanced)</p></td><td align="left" valign="top"><p>Sets whether synchronous processing should be strictly used, or Camel is allowed to use asynchronous processing (if supported).</p></td><td align="center" valign="top"><p>false</p></td><td align="left" valign="top"><p>boolean</p></td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_message_operations_3"></a>Message Operations</h2></div></div></div><p>The following ElasticSearch operations are currently supported. Simply
set an endpoint URI option or exchange header with a key of "operation"
and a value set to one of the following. Some operations also require
other parameters or the message body to be set.</p><div class="informaltable"><table border="1" width="100%"><colgroup><col width="10%" class="col_1"><col width="10%" class="col_2"><col width="80%" class="col_3"></colgroup><thead><tr><th align="left" valign="top">operation</th><th align="left" valign="top">message body</th><th align="left" valign="top">description</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Index</p></td><td align="left" valign="top"><p><span class="strong"><strong>Map</strong></span>, <span class="strong"><strong>String</strong></span>, <span class="strong"><strong>byte[]</strong></span>, <span class="strong"><strong>XContentBuilder</strong></span> or <span class="strong"><strong>IndexRequest</strong></span> content to index</p></td><td align="left" valign="top"><p>Adds content to an index and returns the content&#8217;s indexId in the body.
You can set the indexId by setting the message header with
the key "indexId".</p></td></tr><tr><td align="left" valign="top"><p>GetById</p></td><td align="left" valign="top"><p><span class="strong"><strong>String</strong></span> or <span class="strong"><strong>GetRequest</strong></span> index id of content to retrieve</p></td><td align="left" valign="top"><p>Retrieves the specified index and returns a GetResult object in the body</p></td></tr><tr><td align="left" valign="top"><p>Delete</p></td><td align="left" valign="top"><p><span class="strong"><strong>String</strong></span> or <span class="strong"><strong>DeleteRequest</strong></span> index name and type of content to delete</p></td><td align="left" valign="top"><p>Deletes the specified indexName and indexType and returns a DeleteResponse object in the
body</p></td></tr><tr><td align="left" valign="top"><p>DeleteIndex</p></td><td align="left" valign="top"><p><span class="strong"><strong>String</strong></span> or <span class="strong"><strong>DeleteRequest</strong></span> index name of the index to delete</p></td><td align="left" valign="top"><p>Deletes the specified indexName and returns a status code the
body</p></td></tr><tr><td align="left" valign="top"><p>BulkIndex</p></td><td align="left" valign="top"><p>a&nbsp;<span class="strong"><strong>List</strong></span>, <span class="strong"><strong>BulkRequest</strong></span>,&nbsp;or <span class="strong"><strong>Collection</strong></span> of any type that is already accepted
(XContentBuilder, Map, byte[], String)</p></td><td align="left" valign="top"><p>Adds content to an index and return a&nbsp;List of the id&nbsp;of the
successfully indexed documents in the body</p></td></tr><tr><td align="left" valign="top"><p>Bulk</p></td><td align="left" valign="top"><p>a&nbsp;<span class="strong"><strong>List</strong></span>, <span class="strong"><strong>BulkRequest</strong></span>,&nbsp;or <span class="strong"><strong>Collection</strong></span> of any type that is already accepted
       (XContentBuilder, Map, byte[], String)</p></td><td align="left" valign="top"><p>Adds content to an index and returns the BulkItemResponse[]
object in the body</p></td></tr><tr><td align="left" valign="top"><p>Search</p></td><td align="left" valign="top"><p><span class="strong"><strong>Map</strong></span>, <span class="strong"><strong>String</strong></span> or <span class="strong"><strong>SearchRequest</strong></span></p></td><td align="left" valign="top"><p>Search the content with the map of query string</p></td></tr><tr><td align="left" valign="top"><p>Exists</p></td><td align="left" valign="top"><p>Index name(indexName) as header</p></td><td align="left" valign="top"><p>Checks the index exists or not and returns a Boolean flag in the body</p></td></tr><tr><td align="left" valign="top"><p>Update</p></td><td align="left" valign="top"><p><span class="strong"><strong>Map</strong></span>, <span class="strong"><strong>UpdateRequest</strong></span>, <span class="strong"><strong>String</strong></span>, <span class="strong"><strong>byte[]</strong></span> or <span class="strong"><strong>XContentBuilder</strong></span> content to update</p></td><td align="left" valign="top"><p>Updates content to an index and returns the content&#8217;s
indexId in the body.</p></td></tr><tr><td align="left" valign="top"><p>Ping</p></td><td align="left" valign="top"><p>None</p></td><td align="left" valign="top"><p>Pings the remote Elasticsearch cluster and returns true if the ping succeeded, false otherwise</p></td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_configure_the_component_and_enable_basic_authentication"></a>Configure the component and enable basic authentication</h2></div></div></div><p>To use the Elasticsearch component is has to be configured with a minimum configuration.</p><pre class="programlisting">ElasticsearchComponent elasticsearchComponent = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ElasticsearchComponent();
elasticsearchComponent.setHostAddresses(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"myelkhost:9200"</em></strong>);
camelContext.addComponent(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"elasticsearch-rest"</em></strong>, elasticsearchComponent);</pre><p>For basic authentication with elasticsearch or using reverse http proxy in front of the elasticsearch cluster, simply setup
basic authentication and SSL on the component like the example below</p><pre class="programlisting">ElasticsearchComponent elasticsearchComponent = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> ElasticsearchComponent();
elasticsearchComponent.setHostAddresses(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"myelkhost:9200"</em></strong>);
elasticsearchComponent.setUser(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"elkuser"</em></strong>);
elasticsearchComponent.setPassword(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"secure!!"</em></strong>);
elasticsearchComponent.setEnableSSL(true);

camelContext.addComponent(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"elasticsearch-rest"</em></strong>, elasticsearchComponent);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_index_example_3"></a>Index Example</h2></div></div></div><p>Below is a simple INDEX example</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:index"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"elasticsearch-rest://elasticsearch?operation=Index&amp;indexName=twitter&amp;indexType=tweet"</em></strong>);</pre><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"direct:index"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"elasticsearch-rest://elasticsearch?operation=Index&amp;indexName=twitter&amp;indexType=tweet"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong></pre><p>A client would simply need to pass a body message containing a Map to
the route. The result body contains the indexId created.</p><pre class="programlisting">Map&lt;String, String&gt; map = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;String, String&gt;();
map.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"content"</em></strong>, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"test"</em></strong>);
String indexId = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:index"</em></strong>, map, String.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_search_example"></a>Search Example</h2></div></div></div><p>Searching on specific field(s) and value use the Operation &acute;Search&acute;.
Pass in the query JSON String or the Map</p><pre class="programlisting">from(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:search"</em></strong>)
  .to(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"elasticsearch-rest://elasticsearch?operation=Search&amp;indexName=twitter&amp;indexType=tweet"</em></strong>);</pre><pre class="programlisting"><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;route&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;from</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"direct:search"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096"> /&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;to</strong> <span xmlns="http://www.w3.org/1999/xhtml" class="hl-attribute" style="color: #F5844C">uri</span>=<span xmlns="http://www.w3.org/1999/xhtml" class="hl-value" style="color: #993300">"eelasticsearch-rest://elasticsearch?operation=Search&amp;indexName=twitter&amp;indexType=tweet"</span><strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">/&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/route&gt;</strong></pre><pre class="programlisting">String query = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"{\"query\":{\"match\":{\"content\":\"new release of ApacheCamel\"}}}"</em></strong>;
SearchHits response = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:search"</em></strong>, query, SearchHits.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre><p>Search on specific field(s) using Map.</p><pre class="programlisting">Map&lt;String, Object&gt; actualQuery = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;&gt;();
actualQuery.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"content"</em></strong>, <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"new release of ApacheCamel"</em></strong>);

Map&lt;String, Object&gt; match = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;&gt;();
match.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"match"</em></strong>, actualQuery);

Map&lt;String, Object&gt; query = <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">new</strong> HashMap&lt;&gt;();
query.put(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"query"</em></strong>, match);
SearchHits response = template.requestBody(<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-string"><em style="color:red">"direct:search"</em></strong>, query, SearchHits.<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-keyword">class</strong>);</pre></div></div></body></html>