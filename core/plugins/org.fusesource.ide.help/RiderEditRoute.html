<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Editing a routing context in the route editor</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling"><link rel="up" href="RiderDevPart.html" title="Developing Applications"><link rel="prev" href="RiderDevPart.html" title="Developing Applications"><link rel="next" href="RiderCamelDebugger.html" title="Debugging Routing Contexts"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderEditRoute"></a>Editing a routing context in the route editor</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="RiderEditRoute.html#RiderAddPattern">Adding patterns to a route</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderPatternConfig">Configuring a pattern</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderRemovePattern">Removing patterns from a route</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderNewRoute">Adding routes to the routing context</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderRemoveRoute">Deleting a route</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderAddGlobalCnfg">Adding global endpoints, data formats, or beans</a></span></dt><dt><span class="section"><a href="RiderEditRoute.html#RiderEditPrefs">Configuring the route editor</a></span></dt></dl></div><pre class="literallayout">The following sections describe how to edit a routing context.</pre><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderAddPattern"></a>Adding patterns to a route</h3></div></div></div><p>Routes consist of a sequence of connected patterns, referred to as <span class="strong"><strong>nodes</strong></span> once they are placed on the canvas inside a <code class="literal">Route</code> container node. A complete route typically consists of a starting endpoint, a string of processing nodes, and one or more destination endpoints.</p><p>When you add a pattern into a Route container on the canvas, the pattern takes on a color that indicates its type of node:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Blue&#8201;&#8212;&#8201;Route containers, which correspond to route elements in the context file, and other container nodes, such as <code class="literal">when</code> and
<code class="literal">otherwise</code> EIPs that contain other EIPs that complete their logic</li><li class="listitem">Green&#8201;&#8212;&#8201;Consumer endpoints that input data entering routes</li><li class="listitem">Orange&#8201;&#8212;&#8201;EIPs that route, transform, process, or control the flow of data transiting routes</li><li class="listitem">Purple&#8201;&#8212;&#8201;Producer endpoints that output the data exiting routes</li></ul></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure"></a>Procedure</h4></div></div></div><p>To add a pattern to a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In the <span class="strong"><strong>Palette</strong></span>, locate the pattern that you want to add to the route.</li><li class="listitem"><p class="simpara">Use one of the following methods:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Click the pattern in the <span class="strong"><strong>Palette</strong></span> and then, in the canvas, click the route container.</li><li class="listitem"><p class="simpara">Drag the pattern over the target <code class="literal">Route</code> container and drop it.</p><p class="simpara">Alternatively, you can add a pattern on an existing node that has no outgoing
connection, or on a connection existing between two nodes, to have the tooling
automatically wire the connections between all nodes involved.</p><p class="simpara">The tooling checks whether the resulting connection is valid and then either allows or
prevents you from adding the pattern on the target. For valid
connections, the tooling behaves differently depending on whether the target is a node or a connection:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">For an <span class="strong"><strong>existing node</strong></span>, the tooling adds the new node to the target node&#8217;s outgoing side (beneath or to the right of it depending on <a class="link" href="RiderEditRoute.html#LayoutDirection" title="Changing the layout direction">how the editor preferences are set</a>) and automatically wires the connection between them</li><li class="listitem">For an <span class="strong"><strong>existing connection</strong></span>, the tooling inserts the new node between the two connected nodes and automatically rewires the connections between the three nodes</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">Optionally, you can manually connect two nodes:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">In the <code class="literal">Route</code> container on the canvas, select the source node to display its connector arrow.</li><li class="listitem"><p class="simpara">Drag the source node&#8217;s connector arrow (
<span class="inlinemediaobject"><img src="images/ConnectorArrow.jpg" alt="ConnectorArrow"></span>) to the target node, and release the mouse button to drop the connector on
it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Not all nodes can be connected. When you try to connect a source node to an invalid target
node, the tooling displays the
<span class="inlinemediaobject"><img src="./images/unconfigured_co_gray.gif" alt="unconfigured co gray"></span> symbol attached to the mouse cursor, and the connector fails to
stick to the target node.</p></td></tr></table></div></li></ol></div></li><li class="listitem">After you add a pattern inside a Route container, you can drag it to different location inside the route container or to another route container on the canvas, as long as it can establish a valid connection. You can also relocate existing nodes that are already connected, as long as the move can establish another valid connection.</li><li class="listitem">Select <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span>. The tooling saves routes in the context file regardless of whether they are complete.</li></ol></div><p>The new pattern appears on the canvas in the <code class="literal">Route</code> container and becomes the selected node. The <span class="strong"><strong>Properties</strong></span> view displays a list of the new node&#8217;s properties that you can edit.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="LayoutDirection"></a>Changing the layout direction</h4></div></div></div><p>When you connect one node to another, the tooling updates the layout according to the route
editor&#8217;s layout preference. The default is <span class="strong"><strong>Down</strong></span>.</p><p>To access the route editor 's layout preference:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On Linux and Windows machines, select <span class="strong"><strong>Windows</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span> &#8594; <span class="strong"><strong>Choose the layout direction for the diagram editor</strong></span>.</li><li class="listitem">On OS X, select <span class="strong"><strong>Developer Studio</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span> &#8594; <span class="strong"><strong>Choose the layout direction for the diagram editor</strong></span>.</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderEditRoute.html#RiderPatternConfig" title="Configuring a pattern">Configuring a pattern</a></li><li class="listitem"><a class="xref" href="RiderEditRoute.html#RiderRemovePattern" title="Removing patterns from a route">Removing patterns from a route</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderPatternConfig"></a>Configuring a pattern</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_3"></a>Overview</h4></div></div></div><p>Most patterns require some explicit configuration. For example, an endpoint requires an
explicitly entered <code class="literal">URI</code>.</p><p>The tooling&#8217;s <span class="strong"><strong>Properties</strong></span> view provides a form that lists all of the
configuration details a particular pattern supports. The <span class="strong"><strong>Properties</strong></span> view
also provides the following convenience features:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">validating that all required properties have values</li><li class="listitem">validating that supplied values are the correct data type for the
property</li><li class="listitem">drop-down lists for properties that have a fixed set of values</li><li class="listitem">drop-down lists that are populated with the available bean references from the Apache
Camel Spring configuration</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_2"></a>Procedure</h4></div></div></div><p>To configure a pattern:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">On the canvas, select the node you want to configure.</p><p class="simpara">The <span class="strong"><strong>Properties</strong></span> view lists all of the selected node&#8217;s properties
for you to edit. For EIPs, the <span class="strong"><strong>Details</strong></span> tab lists all of a pattern&#8217;s
properties. For components from the <span class="strong"><strong>Components</strong></span> drawer, the
<span class="strong"><strong>Details</strong></span> tab lists the general properties and those that require a
value, and the <span class="strong"><strong>Advanced</strong></span> tab lists additional properties grouped
according to function.</p><p class="simpara">The <span class="strong"><strong>Documentation</strong></span> tab describes the pattern and each of its
properties.</p></li><li class="listitem">Edit the fields in the <span class="strong"><strong>Properties</strong></span> view to configure the
node.</li><li class="listitem">When done, save your work by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> from the menu bar.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRemovePattern"></a>Removing patterns from a route</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_4"></a>Overview</h4></div></div></div><p>As you develop and update a route, you may need to remove one or more of the route&#8217;s
nodes. The node&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon makes this easy to do. When you delete a node from the canvas,
all of its connections with other nodes in the route are also deleted, and the node is
removed from the corresponding route element in the context
file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also remove a node by opening its context menu and selecting
<span class="strong"><strong>Remove</strong></span>.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_3"></a>Procedure</h4></div></div></div><p>To remove a node from a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Select the node you want to delete.</li><li class="listitem">Click its
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon.</li><li class="listitem">Click <span class="strong"><strong>Yes</strong></span> when asked if you are sure you want to delete
this element.</li></ol></div><p>The node and all of its connections are deleted from the canvas, and the node is removed
from its corresponding route element in the context
file.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_related_topics_2"></a>Related topics</h4></div></div></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><a class="xref" href="RiderEditRoute.html#RiderAddPattern" title="Adding patterns to a route">Adding patterns to a route</a></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderNewRoute"></a>Adding routes to the routing context</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_5"></a>Overview</h4></div></div></div><p>The camelContext element within an XML context file creates a
routing context. The camelContext element can contain one or
more routes, and each route, displayed on the canvas as a <code class="literal">Route</code>
container node, maps to a route element in the generated camelContext element.</p></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_4"></a>Procedure</h4></div></div></div><p>To add another route to the camelContext:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Design</strong></span> tab, do one of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Click a <code class="literal">Route</code> pattern in the <span class="strong"><strong>Palette</strong></span>'s <span class="strong"><strong>Routing</strong></span> drawer and then click in the canvas where you want to place the route.</li><li class="listitem"><p class="simpara">Drag a <code class="literal">Route</code> pattern from the <span class="strong"><strong>Palette</strong></span>'s <span class="strong"><strong>Routing</strong></span> drawer and drop it onto the canvas.</p><p class="simpara">The <span class="strong"><strong>Properties</strong></span> view displays a list of the new route&#8217;s properties that you can edit.</p></li></ul></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, enter:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">An ID (for example, <span class="strong"><strong>Route2</strong></span>) for
the new route in the route&#8217;s <span class="strong"><strong>Id</strong></span> field</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The tooling automatically assigns an ID to EIP and component
patterns dropped on the canvas. You can replace these
autogenerated IDs with your own to distinguish the routes in
your project.</p></td></tr></table></div></li><li class="listitem">A description of the route in the <span class="strong"><strong>Description</strong></span>
field</li><li class="listitem">Values for any other properties, as needed. Required properties are indicated by an asterisk (*).</li></ul></div></li><li class="listitem">On the menu bar, select <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> to save the changes you made to the routing context file.</li><li class="listitem"><p class="simpara">To switch between multiple routes, select the route that you want to display on the canvas by
clicking its entry under the project&#8217;s <code class="literal">Camel Contexts</code> folder in
the <span class="strong"><strong>Project Explorer</strong></span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeEntriesProjectExplorer.png" alt="routeEntriesProjectExplorer"></div></div></li><li class="listitem">To display all routes in the context, as space allows, click the context file entry in the <span class="strong"><strong>Project Explorer</strong></span>
view.</li><li class="listitem"><p class="simpara">To view the code generated by the tooling when you add a route to the canvas, click the <span class="strong"><strong>Source</strong></span> tab.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can alternately add a route in the <span class="strong"><strong>Source</strong></span> tab, by adding a &lt;route/&gt; element to the existing list within the camelContext element.</p></td></tr></table></div></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderRemoveRoute"></a>Deleting a route</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_6"></a>Overview</h4></div></div></div><p>In some cases you made need to delete an entire route from your routing context. The Route
container&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon makes this easy to do. When you delete a route, all of the
nodes inside the Route container are also deleted, and the corresponding route element in the context file is removed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can also remove a route using the Route container&#8217;s context menu and selecting
<span class="strong"><strong>Remove</strong></span>.</p></td></tr></table></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Important"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Important]" src="imagesdb/important.png"></td><th align="left">Important</th></tr><tr><td align="left" valign="top"><p>You cannot undo this operation.</p></td></tr></table></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_5"></a>Procedure</h4></div></div></div><p>To delete a route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">If the routing context contains more than one route, first select the route you want
to delete in the <span class="strong"><strong>Project Explorer</strong></span> view.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeEntriesProjectExplorer.png" alt="routeEntriesProjectExplorer"></div></div></li><li class="listitem"><p class="simpara">On the canvas, click the Route container&#8217;s
<span class="inlinemediaobject"><img src="./images/garbageIcon.png" alt="garbageIcon"></span> icon.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/routeDelete.png" alt="routeDelete"></div></div></li><li class="listitem">Click <span class="strong"><strong>Yes</strong></span> when asked if you are sure you want to delete
this element.</li></ol></div><p>The route is removed from the canvas, from the context file, and from the
<span class="strong"><strong>Project Explorer</strong></span> view.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderAddGlobalCnfg"></a>Adding global endpoints, data formats, or beans</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_7"></a>Overview</h4></div></div></div><p>Some routes rely on shared configuration provided by global endpoints, global data
formats, or global beans. You can add global elements to the project&#8217;s routing context
file by using the route editor&#8217;s <span class="strong"><strong>Configurations</strong></span> tab.</p><p>To add global elements to your routing context file:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Open your routing context file in the route editor.</li><li class="listitem"><p class="simpara">At the bottom of the route editor, click the
<span class="strong"><strong>Configurations</strong></span> tab to display global configurations, if
there are any.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/ConfigurationsView.png" alt="ConfigurationsView"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Add</strong></span> to open the <span class="strong"><strong>Create a new global element</strong></span>
dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVAddButton.png" alt="CnfigsVAddButton"></div></div><p class="simpara">The options are:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Endpoint&#8201;&#8212;&#8201;see <a class="xref" href="RiderEditRoute.html#selectGlobalEndpoint" title="Adding a global endpoint">Adding a global endpoint</a>.</li><li class="listitem">Data Format&#8201;&#8212;&#8201;see <a class="xref" href="RiderEditRoute.html#selectGlobalDF" title="Adding a global data format">Adding a global data format</a>.</li><li class="listitem">Bean&#8201;&#8212;&#8201;see <a class="xref" href="RiderEditRoute.html#selectGlobalBean" title="Adding a global bean">Adding a global bean</a>.</li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalEndpoint"></a>Adding a global endpoint</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> dialog, select
<span class="strong"><strong>Endpoint</strong></span> and
click <span class="strong"><strong>OK</strong></span> to open the <span class="strong"><strong>Select component</strong></span>
dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponent1.png" alt="CnfigsVSelectCamComponent1"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>By default, the <span class="strong"><strong>Select component</strong></span> dialog opens with the <span class="strong"><strong>Show
only palette components</strong></span> option enabled. To see all
available components, uncheck this option.</p></td></tr></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>The <span class="strong"><strong>Grouped by categories</strong></span> option groups components by type.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVSelectCamComponentGrouped.png" alt="CnfigsVSelectCamComponentGrouped"></div></div></td></tr></table></div></li><li class="listitem"><p class="simpara"><a name="globalEndptSelect"></a>In the <span class="strong"><strong>Select component</strong></span> dialog, scroll through the list
of Camel components to find and select the component you want to add to the
context file, and then enter an ID for it in the <span class="strong"><strong>Id</strong></span>
field.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCamComponentSelected.png" alt="CnfigsVCamComponentSelected"></div></div><p class="simpara">In this example, the JMS component is selected and
<code class="literal">myJMS</code> is the <span class="strong"><strong>Id</strong></span> value.</p></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVmyEndptAdded2.png" alt="CnfigsVmyEndptAdded2"></div></div><p class="simpara">You can now set properties in the <span class="strong"><strong>Properties</strong></span> view as
needed.</p><p class="simpara">The tooling autofills <span class="strong"><strong>Id</strong></span> with the value you entered in
the component&#8217;s <code class="literal">Id</code> field in <a class="xref" href="RiderEditRoute.html#globalEndptSelect">[globalEndptSelect]</a>. In this example, Camel builds the
<code class="literal">uri</code> (required field) starting with the component&#8217;s
schema (in this case, <code class="literal">jms:</code>), but you must specify the
<span class="strong"><strong>destinationName</strong></span> and the <span class="strong"><strong>destinationType</strong></span> to
complete the component&#8217;s <span class="strong"><strong>uri</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>For the JMS component, the destination type defaults to <code class="literal">queue</code>. This default value
does not appear in the <code class="literal">uri</code> field on the
<span class="strong"><strong>Details</strong></span> page until you have entered a value in
<span class="strong"><strong>Destination Name</strong></span> (required field).</p></td></tr></table></div></li><li class="listitem">To complete the component&#8217;s uri, click <span class="strong"><strong>Advanced</strong></span>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Destination Name</strong></span> field, enter the name of the
destination endpoint (for example, <code class="literal">FOO.BAR</code>). In the
<span class="strong"><strong>Destination Type</strong></span> field, enter the endpoint
destination&#8217;s type (for example, <code class="literal">queue</code>, <code class="literal">topic</code>, <code class="literal">temp:queue</code>, or
<code class="literal">temp:topic</code>).</p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompAdvanPathProp.png" alt="JMSCompAdvanPathProp"></div></div><p class="simpara">The <span class="strong"><strong>Properties</strong></span> view&#8217;s <span class="strong"><strong>Details</strong></span> and
<span class="strong"><strong>Advanced</strong></span> tabs provide access to all properties
available for configuring a particular component.</p></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Consumer (advanced)</strong></span> tab.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/JMSCompConsumerAdvanProps2.png" alt="JMSCompConsumerAdvanProps2"></div></div><p class="simpara">Enable the properties <span class="strong"><strong>Eager Loading Of
Properties</strong></span> and <span class="strong"><strong>Expose Listener
Session</strong></span>.</p></li><li class="listitem"><p class="simpara">In the route editor, switch to the <span class="strong"><strong>Source</strong></span> tab to see the
code that the tooling added to the context file (in this example, a configured
JMS endpoint), before the first route element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEndptSourceView.png" alt="CnfigsEndptSourceView"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalDF"></a>Adding a global data format</h4></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> dialog, select
<span class="strong"><strong>Data Format</strong></span> and click <span class="strong"><strong>OK</strong></span>
to open the <span class="strong"><strong>Create a global Data
Format</strong></span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF1.png" alt="CnfigsVCreateGlobalDF1"></div></div><p class="simpara">The data format defaults to <code class="literal">avro</code>, the format at the top of
the list of those available.</p></li><li class="listitem">Open the <span class="strong"><strong>Data Format</strong></span> drop-down menu, and select the
format you want, for example, <code class="literal">xmljson</code>.</li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Id</strong></span> field, enter a name for the format, for example,
<span class="emphasis"><em>myDataFormat</em></span>).</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalDF2.png" alt="CnfigsVCreateGlobalDF2"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops1.png" alt="CnfigsVEditGlobalDFprops1"></div></div></li><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, set property values as
appropriate for your project, for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEditGlobalDFprops2.png" alt="CnfigsVEditGlobalDFprops2"></div></div></li><li class="listitem"><p class="simpara">In the route editor, click the <span class="strong"><strong>Source</strong></span> tab to see the code
that the tooling added to the context file. In this example, a configured
xmljson data format is before the first route
element.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVGlobalDFSourceV.png" alt="CnfigsVGlobalDFSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="selectGlobalBean"></a>Adding a global bean</h4></div></div></div><p>A global bean enables out-of-route bean definitions that can be referenced from
anywhere in the route. When you copy a <span class="strong"><strong>Bean</strong></span> component from the
palette to the route, you can find defined global beans in the
<span class="strong"><strong>Properties</strong></span> view&#8217;s <span class="strong"><strong>Ref</strong></span> dropdown. Select the
global bean that you want the <span class="strong"><strong>Bean</strong></span> component to reference.</p><p>To add a global bean element:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Create a new global element</strong></span> window, select
<span class="strong"><strong>Bean</strong></span> and click <span class="strong"><strong>OK</strong></span> to open the
<span class="strong"><strong>Bean Definition</strong></span> dialog.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVCreateGlobalBean1.png" alt="CnfigsVCreateGlobalBean1"></div></div></li><li class="listitem">In the <span class="strong"><strong>Id</strong></span> field, enter an ID for the global bean, for example,
<span class="strong"><strong>TransformBean</strong></span>. The ID must be unique in the
configuration.</li><li class="listitem"><p class="simpara">Identify a bean class or a factory bean.</p><p class="simpara">To specify a factory bean, you must have already added another global bean
with a factory class specified. You can then select that global bean to
declare it as a global bean factory. One instance of the bean factory class
will be in the runtime. Other global beans can call factory methods on that
class to create their own instances of other classes.</p><p class="simpara">To fill the <span class="strong"><strong>Class</strong></span> field, do one of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Enter the name of a class that is in the project or in a referenced project.</li><li class="listitem">Click  <span class="strong"><strong>&#8230;&#8203;</strong></span> to navigate to and select a class that is
in the project or in a referenced project.</li><li class="listitem">Click <span class="strong"><strong>+</strong></span> to define a new bean class
and add it as a global bean.</li></ul></div></li><li class="listitem"><p class="simpara">If the bean you are adding requires one or more arguments, in the <span class="strong"><strong>Constructor
Arguments</strong></span> section, for each argument:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">Click <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">Optionally, in the <span class="strong"><strong>Type</strong></span> field, enter the type
of the argument. The default is <code class="literal">java.lang.String</code>.</li><li class="listitem">In the <span class="strong"><strong>Value</strong></span> field, enter the value of the
argument.</li><li class="listitem">Click <span class="strong"><strong>OK</strong></span>.</li></ol></div></li><li class="listitem"><p class="simpara">Optionally specify one or more properties that are accessible to the global bean. In the
<span class="strong"><strong>Bean Properties</strong></span> section, do the following for each property:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">Click <span class="strong"><strong>Add</strong></span>.</li><li class="listitem">In the <span class="strong"><strong>Name</strong></span> field, enter the name of the
property.</li><li class="listitem">In the <span class="strong"><strong>Value</strong></span> field, enter the value of the
property.</li><li class="listitem">Click <span class="strong"><strong>OK</strong></span>.</li></ol></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Finish</strong></span> to add the global bean to the configuration. The global bean
ID you specified appears in the <span class="strong"><strong>Configurations</strong></span> tab, for
example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanInList.png" alt="CnfigsBeanInList"></div></div></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>Source</strong></span> tab to see the <code class="literal">bean</code> element that the
tooling added to the context file. For example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanSourceV.png" alt="CnfigsBeanSourceV"></div></div></li><li class="listitem"><p class="simpara">Click the <span class="strong"><strong>Configurations</strong></span> tab to return to the list of global elements and
select a global bean to display its standard properties in the
<span class="strong"><strong>Properties</strong></span> view, for example:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsBeanProperties.png" alt="CnfigsBeanProperties"></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To view or edit a property that you specified when you added a global bean, select the bean in
the <span class="strong"><strong>Configurations</strong></span> tab and then click
<span class="strong"><strong>Edit</strong></span>.</p></td></tr></table></div></li><li class="listitem"><p class="simpara">Set global bean properties as needed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><span class="strong"><strong>Depends-on</strong></span> is a string that you can use to identify a bean that must be
created before this global bean. Specify the ID (name) of the depended
on bean. For example, if you are adding the <code class="literal">TransformBean</code>
and you set <span class="strong"><strong>Depends-on</strong></span> to
<code class="literal">ChangeCaseBean</code> then <code class="literal">ChangeCaseBean</code> must be
created and then <code class="literal">TransformBean</code> can be created. When the
beans are being destroyed then <code class="literal">TransformBean</code> is destroyed
first.</li><li class="listitem"><span class="strong"><strong>Factory-method</strong></span> is useful only when the global bean is a factory class. In
this situation, specify or select a static factory method to be called
when the bean is referenced.</li><li class="listitem"><span class="strong"><strong>Scope</strong></span> is <code class="literal">singleton</code> or
<code class="literal">prototype</code>. The default,
<code class="literal">singleton</code>, indicates that Camel uses the same
instance of the bean each time the bean is called. Specify
<code class="literal">prototype</code> when you want Camel to create a new
instance of the bean each time the bean is called.</li><li class="listitem"><span class="strong"><strong>Init-method</strong></span> lets you specify or select which of the bean&#8217;s <code class="literal">init()</code> methods to
call when the bean is referenced.</li><li class="listitem"><span class="strong"><strong>Destroy-method</strong></span> lets you specify or select which of the bean&#8217;s destory methods to call
when the processing performed by the bean is done.</li></ul></div></li><li class="listitem">When done, save your changes by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="deleteGlobalComponent"></a>Deleting a global element</h4></div></div></div><p>The procedure is the same whether removing an endpoint, data format or bean that was
previously added to the routing context.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You cannot perform an undo operation for deletion of a global element. If you inadvertently
delete a global element that you want to keep in the configuration you might be able
to undo the deletion by closing the context file without saving it. If this is not
feasible then re-add the inadvertently deleted global element.</p></td></tr></table></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Configurations</strong></span> tab, select the global element
that you want to delete.</p><p class="simpara">For example, suppose you want to delete the data format
<code class="literal">myDataFormat</code> that was added in <a class="xref" href="RiderEditRoute.html#selectGlobalDF" title="Adding a global data format">Adding a global data format</a>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVDFSelectDelete.png" alt="CnfigsVDFSelectDelete"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Delete</strong></span>.</p><p class="simpara">The global element <code class="literal">myDataFormat</code> disappears from the
<span class="strong"><strong>Configurations</strong></span> tab.</p></li><li class="listitem"><p class="simpara">Switch to the <span class="strong"><strong>Source</strong></span> tab to check that the tooling
removed the XML code from the routing context.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsDelDFSourceV.png" alt="CnfigsDelDFSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> on the menu bar.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="editGlobalComponent"></a>Editing a global element</h4></div></div></div><p>The procedure is the same whether modifying the properties of an endpoint, data format
or bean that you added to the routing context.</p><p>Typically, you do not want to change the ID of a global element. If the global element is
already in use in a running route, changing the ID can break references to the
global element.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Configurations</strong></span> tab, select the global element that
you want to edit.</p><p class="simpara">For example, to edit the endpoint <code class="literal">myJMS</code> that was added in
<a class="xref" href="RiderEditRoute.html#selectGlobalEndpoint" title="Adding a global endpoint">Adding a global endpoint</a>, select it:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSelect.png" alt="CnfigsVEndptEditSelect"></div></div></li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>Edit</strong></span>.</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptClickEdit.png" alt="CnfigsVEndptClickEdit"></div></div><p class="simpara">In the <span class="strong"><strong>Properties</strong></span> view, modify the element&#8217;s properties
as needed.</p></li><li class="listitem"><p class="simpara">For example, open the <span class="strong"><strong>Advanced</strong></span> &#8594; <span class="strong"><strong>Consumer</strong></span> tab, and change the value of <span class="strong"><strong>Concurrent Consumers</strong></span> to <code class="literal">2</code>:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsEditEndpntConcurConsume2.png" alt="CnfigsEditEndpntConcurConsume2"></div></div></li><li class="listitem"><p class="simpara">In the route editor, click the <span class="strong"><strong>Source</strong></span> tab and check that
the tooling added the property <code class="literal">concurrentConsumers=2</code> to the routing
context:</p><div class="informalfigure"><div class="mediaobject"><img src="./images/CnfigsVEndptEditSourceV.png" alt="CnfigsVEndptEditSourceV"></div></div></li><li class="listitem">When done, save your changes by selecting <span class="strong"><strong>File</strong></span> &#8594; <span class="strong"><strong>Save</strong></span> on the menu bar.</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="RiderEditPrefs"></a>Configuring the route editor</h3></div></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_overview_8"></a>Overview</h4></div></div></div><p>Using Fuse preference settings, you can specify options for the route editor&#8217;s behavior and user interface:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">The default language to use for expressions in Enterprise Integration Patterns (EIPs)</li><li class="listitem">The direction (to the right or down) in which patterns flow on the Design canvas when you create routes</li><li class="listitem">Whether the Design canvas displays a grid overlay in the background of the canvas.</li><li class="listitem">The method for labeling nodes on the Design canvas</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h4 class="title"><a name="_procedure_6"></a>Procedure</h4></div></div></div><p>To configure the route editor:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">Open the <span class="strong"><strong>Editor</strong></span> preferences window:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">On Linux and Windows machines, select  <span class="strong"><strong>Windows</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</li><li class="listitem"><p class="simpara">On OS X, select <span class="strong"><strong>Developer Studio</strong></span> &#8594; <span class="strong"><strong>Preferences</strong></span> &#8594; <span class="strong"><strong>Fuse Tooling</strong></span> &#8594; <span class="strong"><strong>Editor</strong></span>.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/PreferencesEditor.png" alt="PreferencesEditor"></span></p></li></ul></div></li><li class="listitem">To select the default language that you want to use for expressions in Enterprise Integration Pattern (EIP) components, select a language from the drop-down list. The default is <span class="emphasis"><em>Simple</em></span>.</li><li class="listitem">To specify the direction in which you want the route editor to align the patterns in a route, select <span class="strong"><strong>Down</strong></span> or <span class="strong"><strong>Right</strong></span>. The default is <span class="emphasis"><em>Down</em></span>.</li><li class="listitem">To enable or disable displaying a grid overlay on the background of the canvas, check the box next to <span class="strong"><strong>Show diagram grid in Routes Editor</strong></span>. The default is <span class="emphasis"><em>enabled</em></span>.</li><li class="listitem"><p class="simpara">To enable or disable using component IDs as labels in the route editor&#8217;s <span class="strong"><strong>Design</strong></span> tab, check the box next to <span class="strong"><strong>Use ID values for component labels</strong></span>. The default is <span class="emphasis"><em>disabled</em></span>.</p><p class="simpara">If you check this option and also specify a preferred label for a component (see Step 6), then the preferred label is used for that component instead of the ID value.</p></li><li class="listitem"><p class="simpara">To use a parameter as the label for a component (except for endpoints, such as <span class="strong"><strong>File</strong></span> nodes) in the route editor&#8217;s <span class="strong"><strong>Design</strong></span> tab:</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">In the <span class="strong"><strong>Preferred labels</strong></span> section, click <span class="strong"><strong>Add</strong></span>. The <span class="strong"><strong>New Preferred Label</strong></span> dialog opens.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/NewPreferredLabel.png" alt="NewPreferredLabel"></span></p></li><li class="listitem">Select a <span class="strong"><strong>Component</strong></span> and then select the <span class="strong"><strong>Parameter</strong></span> to use as the label for the component.</li><li class="listitem"><p class="simpara">Click <span class="strong"><strong>OK</strong></span>. The component and parameter pairs are listed in the Editor Preferences window.</p><p class="simpara"><span class="inlinemediaobject"><img src="./images/PreferredLabelsList.png" alt="PreferredLabelsList"></span></p><p class="simpara">You can optionally <span class="strong"><strong>Edit</strong></span> and <span class="strong"><strong>Remove</strong></span> component labels.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you check the <span class="strong"><strong>Use ID values for component labels</strong></span> option, it applies to all components except for the components listed in the <span class="strong"><strong>Preferred labels</strong></span> section.</p></td></tr></table></div></li></ol></div></li><li class="listitem">Click <span class="strong"><strong>Apply and Close</strong></span> to apply the changes to the <span class="strong"><strong>Editor</strong></span> preferences and close the <span class="strong"><strong>Preferences</strong></span> window.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>You can restore the route editor&#8217;s original defaults at any time by returning to the
<span class="strong"><strong>Editor</strong></span> preferences dialog and clicking <span class="strong"><strong>Restore Defaults</strong></span>.</p></td></tr></table></div></div></div></div></body></html>