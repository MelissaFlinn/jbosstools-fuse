<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Running a Route</title><link rel="stylesheet" type="text/css" href="eclipse_book.css"><meta name="generator" content="DocBook XSL Stylesheets V1.77.1"><link rel="home" href="index.html" title="Red Hat Fuse Tooling"><link rel="up" href="RiderTT.html" title="Part&nbsp;I.&nbsp;Tooling Tutorials"><link rel="prev" href="RiderTutorialCreate.html" title="Defining a Route"><link rel="next" href="RiderTutorialCBR.html" title="Adding a Content-Based Router"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a name="RiderTutorialRun"></a>Running a Route</h2></div></div></div><p>This tutorial walks you through the process of running a route  to verify that the route correctly transfers messages from the source endpoint to the sink endpoint.</p><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_goals_3"></a>Goals</h2></div></div></div><p>In this tutorial you complete the following tasks:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Run a route as a local Camel context (without tests since you have not set up a test yet)</li><li class="listitem">Send messages through the route</li><li class="listitem">Examine the messages received by the sink endpoint to make sure that the route correctly processed the test messages</li></ul></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_prerequisites_2"></a>Prerequisites</h2></div></div></div><p>To start this tutorial, you need the <span class="strong"><strong>ZooOrderApp</strong></span> project resulting from:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Completing the <a class="xref" href="RiderTutorialSetup.html" title="Setting up your environment"><i>Setting up your environment</i></a> tutorial.</li><li class="listitem"><p class="simpara">One of the following:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">Completing the <a class="xref" href="RiderTutorialCreate.html" title="Defining a Route"><i>Defining a Route</i></a> tutorial.</p><p class="simpara">or</p></li><li class="listitem">Replacing your project&#8217;s <code class="literal">blueprint.xml</code> file with the provided <code class="literal">blueprintContexts/blueprint1.xml</code> file, as described in <a class="xref" href="RiderTutorialIntro.html#AboutResourceFiles" title="About the resource files">About the resource files</a>.</li></ul></div></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="RiderRunRun"></a>Running the route</h2></div></div></div><p>To run the route:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Open the <code class="literal">ZooOrderApp</code> project.</li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Project Explorer</strong></span>, select <code class="literal">ZooOrderApp/Camel
Contexts/blueprint.xml</code>
:</p><div class="informalfigure"><div class="mediaobject"><img src="images/tutRunCBRrouteCamContext.png" alt="tutRunCBRrouteCamContext"></div></div></li><li class="listitem"><p class="simpara">Right-click the <code class="literal">blueprint.xml</code>, and then select <span class="strong"><strong>Run As</strong></span> &#8594; <span class="strong"><strong>Local Camel Context (without tests)</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="imagesdb/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>If you select <span class="strong"><strong>Local Camel Context</strong></span> instead, the tooling
automatically tries to run the routing context against a supplied JUnit
test. Because a JUnit test does not exist, the tooling reverts to running the routing
context without tests. In the <a class="xref" href="RiderTutorialJUnit.html" title="Testing a route with JUnit"><i>Testing a route with JUnit</i></a>
tutorial, you create a JUnit test case to test the <span class="strong"><strong>ZooOrderApp</strong></span> project.</p></td></tr></table></div><p class="simpara">The <span class="strong"><strong>Console</strong></span> panel opens to display log messages that reflect the progress of the project&#8217;s execution. At the
beginning, Maven downloads the resources necessary to update the local Maven repository. The Maven download process can take a few minutes.</p></li><li class="listitem"><p class="simpara">Wait for messages (similar to the following) to appear at the end of the output. These messages indicate that the route executed successfully:</p><pre class="screen">...
[Blueprint Event Dispatcher: 1] BlueprintCamelContext INFO  Route: _route1 started and consuming from:Endpoint[file://src/data?noop=true]
[Blueprint Event Dispatcher: 1] BlueprintCamelContext INFO  Total 1 routes, of which 1 are started.
[Blueprint Event Dispatcher: 1]BlueprintCamelContext INFO  Apache Camel 2.21.0.redhat-3 (CamelContext: ...) started in 0.163 seconds
[Blueprint Event Dispatcher: 1] BlueprintCamelContext INFO  Apache Camel 2.21.0.redhat-3 (CamelContext: ...) started in 0.918 seconds</pre></li><li class="listitem">To shutdown the route, click
<span class="inlinemediaobject"><img src="./images/ConsoleStopButton.jpg" alt="console&#8217;s shutdown button"></span> located at the top of the <span class="strong"><strong>Console</strong></span> view.</li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_verifying_the_route"></a>Verifying the route</h2></div></div></div><p>To verify that the route executed properly, you check to see whether the message XML files were copied from the source folder (<code class="literal">src/data</code>) to the target folder (<code class="literal">target/messages/received</code>).</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">In <span class="strong"><strong>Project Explorer</strong></span>, select <code class="literal">ZooOrderApp</code>.</li><li class="listitem">Right-click and then select <span class="strong"><strong>Refresh</strong></span>.</li><li class="listitem"><p class="simpara">In <span class="strong"><strong>Project Explorer</strong></span>, locate the <code class="literal">target/messages/</code> folder and expand it to verify that the <code class="literal">target/messages/received</code> folder contains the six message files, <code class="literal">message1.xml</code> through
<code class="literal">message6.xml</code>:</p><div class="informalfigure"><div class="mediaobject"><img src="images/tutTargetMessage.png" alt="message destination"></div></div></li><li class="listitem"><p class="simpara">Double-click <code class="literal">message1.xml</code> to open it in the route
editor&#8217;s <span class="strong"><strong>Design</strong></span> tab, and then select the <span class="strong"><strong>Source</strong></span> tab to see the XML code:</p><pre class="programlisting"><span xmlns="http://www.w3.org/1999/xhtml" class="hl-directive" style="color: maroon">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>

<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;order&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;customer&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;name&gt;</strong>Bronx Zoo<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/name&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;city&gt;</strong>Bronx NY<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/city&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;country&gt;</strong>USA<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/country&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/customer&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;orderline&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;animal&gt;</strong>wombat<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/animal&gt;</strong>
    <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;quantity&gt;</strong>12<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/quantity&gt;</strong>
  <strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/orderline&gt;</strong>
<strong xmlns="http://www.w3.org/1999/xhtml" class="hl-tag" style="color: #000096">&lt;/order&gt;</strong></pre></li></ol></div></div><div class="simplesect"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_next_steps_3"></a>Next steps</h2></div></div></div><p>In the <a class="xref" href="RiderTutorialCBR.html" title="Adding a Content-Based Router"><i>Adding a Content-Based Router</i></a> tutorial you add a Content-Based Router that uses the content of a message to determine its destination.</p></div></div></body></html>